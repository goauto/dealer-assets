!function(e){jQuery.fn.flipCountDown=jQuery.fn.flipcountdown=function(t){var s={showHour:!0,showMinute:!0,showSecond:!0,am:!1,tzoneOffset:0,speedFlip:60,period:1e3,tick:function(){return new Date},autoUpdate:!0,size:"md",beforeDateTime:!1,prettyPrint:function(e){return e instanceof Array?e.join(" "):e}},a={lg:77,md:52,sm:35,xs:24},n=function(t){var n=e('<div class="xdsoft_flipcountdown"></div>'),i=e('<div class="xdsoft_clearex"></div>'),o=e.extend({},s),r=0,d=function(e,t,s){isNaN(t)?e.css("background-position","50% -"+(6*(s+1)*a[o.size]+1)+"px"):c(e,t,t>s&&(9!=t||0!=s)||0==t&&9==s?-1:1,9==t&&0==s||0==t&&9==s?1:Math.abs(t-s))},c=function(e,t,s,n){n<1||u(e,-(6*(t+1)*a[o.size]+1),1,s,function(){c(e,t+s,s,n-1)},n)},u=function(e,t,s,n,i,r){t<=66*-a[o.size]&&(t=-(6*a[o.size]+1)),e.css("background-position","50% "+t+"px"),s<=6?setTimeout(function(){u(e,t-n*a[o.size],++s,n,i,r)},parseInt(o.speedFlip/r)):i()},f=[],p=function(){var s="1",a=[];if(o.tick&&(s=o.prettyPrint.call(t,o.tick instanceof Function?o.tick.call(t,0):o.tick)),void 0!==s){switch(s.constructor){case Date:var n=(s.getHours()+o.tzoneOffset)%(o.am?12:24);o.showHour&&(a.push(parseInt(n/10)),a.push(n%10)),o.showHour&&(o.showMinute||o.showSecond)&&a.push(":"),o.showMinute&&(a.push(parseInt(s.getMinutes()/10)),a.push(s.getMinutes()%10)),o.showMinute&&o.showSecond&&a.push(":"),o.showSecond&&(a.push(parseInt(s.getSeconds()/10)),a.push(s.getSeconds()%10));break;case String:a=s.replace(/[^0-9\:\.\s]/g,"").split("");break;case Number:a=s.toString().split("")}!function(t){if(!(t instanceof Array&&t.length))return!1;for(var s=0,a=t.length;s<a;s++)if(f[s]||(f[s]=e('<div class="xdsoft_digit"></div>'),i.before(f[s])),f[s].data("value")!=t[s]){if(r=f[s].data("value"),c=t[s],!r||!c||r!=c&&!/^[0-9]+$/.test(r+""+c)&&!/^[:.\s]+$/.test(r+""+c))switch(f[s].removeClass("xdsoft_separator").removeClass("xdsoft_dot"),t[s]){case":":f[s].addClass("xdsoft_separator");break;case".":f[s].addClass("xdsoft_dot");break;case" ":f[s].addClass("xdsoft_space")}if(!isNaN(t[s])){var n=parseInt(f[s].data("value")),o=(parseInt(f[s].data("i")),parseInt(t[s]));d(f[s],n,o)}f[s].data("value",t[s]),f[s].data("i",s)}var r,c;if(f.length>t.length){for(;s<f.length;s++)f[s][0].parentNode.removeChild(f[s][0]),delete f[s];f.splice(t.length)}}(a)}};n.append(i).on("xdinit.xdsoft",function(){clearInterval(r),o.autoUpdate&&(r=setInterval(p,o.period)),p()}),t.data("setOptions",function(t){if(o=e.extend(!0,{},o,t),a[o.size]||(o.size=defaulOptions.size),o.beforeDateTime&&!t.tick){"string"==typeof o.beforeDateTime?o.beforeDateTime=Math.round(new Date(o.beforeDateTime).getTime()/1e3):"[object Date]"!==Object.prototype.toString.call(o.beforeDateTime)&&(o.beforeDateTime=Math.round((new Date).getTime()/1e3)+525600);var s=function(e){return e>9?e:"0"+e};o.tick=function(){var e=Math.max(0,o.beforeDateTime-Math.round((new Date).getTime()/1e3)),t=parseInt(e/86400),a=parseInt(e%86400/3600),n=parseInt(e%86400%3600/60),i=e%86400%3600%60;return[s(t),s(a),s(n),s(i)]}}n.addClass("xdsoft_size_"+o.size).trigger("xdinit.xdsoft")}),t.append(n)};return this.each(function(){var s=e(this);s.data("setOptions")||(s.addClass("xdsoft"),n(s)),s.data("setOptions")&&e.isFunction(s.data("setOptions"))&&s.data("setOptions")(t)})}}(jQuery);
